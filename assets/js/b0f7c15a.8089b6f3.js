"use strict";(self.webpackChunkai_maniacs=self.webpackChunkai_maniacs||[]).push([[7482],{6947:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"ai-agents/mcp-integration","title":"MCP Integration for Agents","description":"Connect your AI agents to tools, databases, and APIs using Model Context Protocol (MCP). Practical guide to building and using MCP servers.","source":"@site/docs/ai-agents/mcp-integration.md","sourceDirName":"ai-agents","slug":"/ai-agents/mcp-integration","permalink":"/docs/ai-agents/mcp-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/sethdavis512/ai-maniacs/tree/main/docs/ai-agents/mcp-integration.md","tags":[],"version":"current","lastUpdatedBy":"Seth Davis","lastUpdatedAt":1769564826000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"MCP Integration for Agents","description":"Connect your AI agents to tools, databases, and APIs using Model Context Protocol (MCP). Practical guide to building and using MCP servers.","keywords":["MCP integration","Model Context Protocol","AI tools","agent tools","MCP servers","Claude MCP"]}}');var t=r(4848),i=r(8453);const a={sidebar_position:7,title:"MCP Integration for Agents",description:"Connect your AI agents to tools, databases, and APIs using Model Context Protocol (MCP). Practical guide to building and using MCP servers.",keywords:["MCP integration","Model Context Protocol","AI tools","agent tools","MCP servers","Claude MCP"]},o="MCP Integration for Agents",l={},c=[{value:"Why Agents Need MCP",id:"why-agents-need-mcp",level:2},{value:"MCP Architecture",id:"mcp-architecture",level:2},{value:"Using Existing MCP Servers",id:"using-existing-mcp-servers",level:2},{value:"Setup in Claude Desktop",id:"setup-in-claude-desktop",level:3},{value:"Popular Official Servers",id:"popular-official-servers",level:3},{value:"Using Multiple Servers",id:"using-multiple-servers",level:3},{value:"Building Your First MCP Server",id:"building-your-first-mcp-server",level:2},{value:"Example: Weather Data Server (Python)",id:"example-weather-data-server-python",level:3},{value:"Example: Custom Database Server",id:"example-custom-database-server",level:3},{value:"MCP Resources (Read-Only Data)",id:"mcp-resources-read-only-data",level:2},{value:"MCP Prompts (Pre-Packaged Instructions)",id:"mcp-prompts-pre-packaged-instructions",level:2},{value:"Advanced MCP Patterns",id:"advanced-mcp-patterns",level:2},{value:"Pattern 1: Authentication",id:"pattern-1-authentication",level:3},{value:"Pattern 2: Rate Limiting",id:"pattern-2-rate-limiting",level:3},{value:"Pattern 3: Caching",id:"pattern-3-caching",level:3},{value:"Pattern 4: Batch Operations",id:"pattern-4-batch-operations",level:3},{value:"Production MCP Best Practices",id:"production-mcp-best-practices",level:2},{value:"1. Error Handling",id:"1-error-handling",level:3},{value:"2. Logging",id:"2-logging",level:3},{value:"3. Input Validation",id:"3-input-validation",level:3},{value:"4. Monitoring",id:"4-monitoring",level:3},{value:"MCP Server Deployment",id:"mcp-server-deployment",level:2},{value:"Development",id:"development",level:3},{value:"Production",id:"production",level:3},{value:"Testing MCP Servers",id:"testing-mcp-servers",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Integration Tests",id:"integration-tests",level:3},{value:"MCP Registry &amp; Discovery",id:"mcp-registry--discovery",level:2},{value:"Common MCP Use Cases",id:"common-mcp-use-cases",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"mcp-integration-for-agents",children:"MCP Integration for Agents"})}),"\n",(0,t.jsx)(n.p,{children:"Model Context Protocol (MCP) is how agents access tools, databases, and external data. This guide shows you how to use and build MCP servers."}),"\n",(0,t.jsx)(n.h2,{id:"why-agents-need-mcp",children:"Why Agents Need MCP"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Without MCP:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Agent: "I need to check our database"\nYou: [Manually query database]\nYou: [Copy results to agent]\nAgent: [Analyzes data]\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"With MCP:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Agent: "Check database for X"\n\u2192 Automatically queries via MCP\n\u2192 Gets results\n\u2192 Analyzes and reports\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"The difference:"})," Autonomous tool access vs manual tool use."]}),"\n",(0,t.jsx)(n.h2,{id:"mcp-architecture",children:"MCP Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  AI Agent   \u2502 (Claude, ChatGPT, etc.)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 MCP Protocol\n       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 MCP Server  \u2502 (Your tool/data connector)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 External    \u2502 (Database, API, filesystem, etc.)\n\u2502 Resources   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"MCP Server"})," exposes 3 things:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tools"})," - Functions agent can call"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Resources"})," - Data agent can read"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prompts"})," - Pre-packaged instructions"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-existing-mcp-servers",children:"Using Existing MCP Servers"}),"\n",(0,t.jsx)(n.h3,{id:"setup-in-claude-desktop",children:"Setup in Claude Desktop"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"1. Install server:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Example: GitHub MCP server\nnpm install -g @anthropics/mcp-server-github\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"2. Configure Claude:"})}),"\n",(0,t.jsxs)(n.p,{children:["Edit ",(0,t.jsx)(n.code,{children:"~/Library/Application Support/Claude/claude_desktop_config.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "mcpServers": {\n    "github": {\n      "command": "npx",\n      "args": ["-y", "@anthropics/mcp-server-github"],\n      "env": {\n        "GITHUB_TOKEN": "your_github_token"\n      }\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"3. Restart Claude Desktop"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"4. Claude now has GitHub access:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'You: "What open issues do we have in the main repo?"\nClaude: [Uses MCP to query GitHub]\n        [Returns current issues]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"popular-official-servers",children:"Popular Official Servers"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Filesystem Access:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "filesystem": {\n    "command": "npx",\n    "args": ["-y", "@anthropics/mcp-server-filesystem", "/path/to/allowed/directory"]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Slack Integration:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "slack": {\n    "command": "npx",\n    "args": ["-y", "@anthropics/mcp-server-slack"],\n    "env": {\n      "SLACK_BOT_TOKEN": "xoxb-your-token",\n      "SLACK_TEAM_ID": "T1234567"\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"PostgreSQL Database:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "postgres": {\n    "command": "npx",\n    "args": ["-y", "@anthropics/mcp-server-postgres", "postgresql://user:pass@localhost/db"]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Google Drive:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "gdrive": {\n    "command": "npx",\n    "args": ["-y", "@anthropics/mcp-server-gdrive"],\n    "env": {\n      "GOOGLE_CLIENT_ID": "your_client_id",\n      "GOOGLE_CLIENT_SECRET": "your_secret"\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"using-multiple-servers",children:"Using Multiple Servers"}),"\n",(0,t.jsx)(n.p,{children:"Claude can use all configured servers simultaneously:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "mcpServers": {\n    "github": { /* config */ },\n    "postgres": { /* config */ },\n    "slack": { /* config */ },\n    "filesystem": { /* config */ }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example task using multiple servers:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'You: "Check GitHub issues, query the database for related bugs,\n      and post a summary to Slack"\n\nClaude: [Uses GitHub MCP \u2192 Postgres MCP \u2192 Slack MCP]\n        [Completes entire workflow]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"building-your-first-mcp-server",children:"Building Your First MCP Server"}),"\n",(0,t.jsx)(n.p,{children:"Let's build a simple MCP server that exposes a tool."}),"\n",(0,t.jsx)(n.h3,{id:"example-weather-data-server-python",children:"Example: Weather Data Server (Python)"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"1. Install MCP SDK:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install mcp\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"2. Create server:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# weather_server.py\nimport asyncio\nimport httpx\nfrom mcp.server import Server\nfrom mcp.types import Tool, TextContent\n\n# Initialize server\napp = Server("weather-server")\n\n# Define tool\n@app.tool()\nasync def get_weather(\n    city: str,\n    units: str = "metric"\n) -> str:\n    """\n    Get current weather for a city.\n\n    Args:\n        city: City name (e.g., "San Francisco")\n        units: Temperature units ("metric" or "imperial")\n    """\n    # Call weather API\n    async with httpx.AsyncClient() as client:\n        response = await client.get(\n            "https://api.openweathermap.org/data/2.5/weather",\n            params={\n                "q": city,\n                "units": units,\n                "appid": "your_api_key"\n            }\n        )\n        data = response.json()\n\n    # Format response\n    temp = data["main"]["temp"]\n    desc = data["weather"][0]["description"]\n    unit = "\xb0C" if units == "metric" else "\xb0F"\n\n    return f"{city}: {temp}{unit}, {desc}"\n\n# Run server\nif __name__ == "__main__":\n    app.run()\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"3. Configure in Claude:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "weather": {\n    "command": "python",\n    "args": ["/path/to/weather_server.py"]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"4. Use it:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'You: "What\'s the weather in Tokyo?"\nClaude: [Calls get_weather via MCP]\n        "Tokyo: 18\xb0C, partly cloudy"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"example-custom-database-server",children:"Example: Custom Database Server"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# database_server.py\nimport asyncio\nimport sqlite3\nfrom mcp.server import Server\nfrom mcp.types import Tool\n\napp = Server("custom-db-server")\n\n@app.tool()\nasync def query_customers(\n    status: str = None,\n    limit: int = 10\n) -> list:\n    """\n    Query customer database.\n\n    Args:\n        status: Filter by status (active, inactive, trial)\n        limit: Max results to return\n    """\n    conn = sqlite3.connect(\'customers.db\')\n    cursor = conn.cursor()\n\n    if status:\n        cursor.execute(\n            "SELECT * FROM customers WHERE status = ? LIMIT ?",\n            (status, limit)\n        )\n    else:\n        cursor.execute(\n            "SELECT * FROM customers LIMIT ?",\n            (limit,)\n        )\n\n    results = cursor.fetchall()\n    conn.close()\n\n    return results\n\n@app.tool()\nasync def update_customer_status(\n    customer_id: int,\n    new_status: str\n) -> str:\n    """Update customer status."""\n    conn = sqlite3.connect(\'customers.db\')\n    cursor = conn.cursor()\n\n    cursor.execute(\n        "UPDATE customers SET status = ? WHERE id = ?",\n        (new_status, customer_id)\n    )\n\n    conn.commit()\n    conn.close()\n\n    return f"Updated customer {customer_id} to {new_status}"\n\nif __name__ == "__main__":\n    app.run()\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Agent can now:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'"Find all trial customers who signed up this month"\n\u2192 Agent queries database via MCP\n\n"Upgrade customer 1234 to active status"\n\u2192 Agent updates via MCP\n'})}),"\n",(0,t.jsx)(n.h2,{id:"mcp-resources-read-only-data",children:"MCP Resources (Read-Only Data)"}),"\n",(0,t.jsx)(n.p,{children:"Resources are data the agent can read:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server import Server\nfrom mcp.types import Resource\n\napp = Server("docs-server")\n\n@app.resource("docs://api-reference")\nasync def get_api_docs() -> str:\n    """Provide API documentation"""\n    with open("api_docs.md", "r") as f:\n        return f.read()\n\n@app.resource("docs://changelog")\nasync def get_changelog() -> str:\n    """Provide version changelog"""\n    with open("CHANGELOG.md", "r") as f:\n        return f.read()\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Agent usage:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'You: "How do I use the authentication API?"\nClaude: [Reads docs://api-reference via MCP]\n        [Provides answer from docs]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"mcp-prompts-pre-packaged-instructions",children:"MCP Prompts (Pre-Packaged Instructions)"}),"\n",(0,t.jsx)(n.p,{children:"Prompts are reusable agent instructions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.types import Prompt, PromptArgument\n\n@app.prompt()\nasync def analyze_user_feedback(\n    feedback_source: str\n) -> str:\n    """Analyze customer feedback for themes"""\n    return f"""\n    Analyze feedback from {feedback_source}:\n\n    1. Read all recent feedback entries\n    2. Identify common themes and pain points\n    3. Categorize by: Product, Service, Technical, Other\n    4. Calculate sentiment scores\n    5. Prioritize top 3 issues\n    6. Suggest improvements\n\n    Provide executive summary with action items.\n    """\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Agent usage:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'You: "Run feedback analysis on support tickets"\nClaude: [Loads analyze_user_feedback prompt]\n        [Executes all steps]\n        [Delivers report]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"advanced-mcp-patterns",children:"Advanced MCP Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"pattern-1-authentication",children:"Pattern 1: Authentication"}),"\n",(0,t.jsx)(n.p,{children:"Secure MCP servers with auth:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server import Server\nfrom mcp.types import Tool\n\napp = Server("secure-server")\n\ndef verify_token(token: str) -> bool:\n    """Verify API token"""\n    # Check token validity\n    return token == "expected_token"\n\n@app.tool()\nasync def sensitive_operation(\n    token: str,\n    operation: str\n) -> str:\n    """Requires authentication"""\n    if not verify_token(token):\n        raise PermissionError("Invalid token")\n\n    # Proceed with operation\n    return f"Executed: {operation}"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-2-rate-limiting",children:"Pattern 2: Rate Limiting"}),"\n",(0,t.jsx)(n.p,{children:"Prevent abuse:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import time\nfrom collections import defaultdict\n\nclass RateLimiter:\n    def __init__(self, max_calls=10, period=60):\n        self.max_calls = max_calls\n        self.period = period\n        self.calls = defaultdict(list)\n\n    def check(self, identifier):\n        now = time.time()\n        cutoff = now - self.period\n\n        # Remove old calls\n        self.calls[identifier] = [\n            t for t in self.calls[identifier]\n            if t > cutoff\n        ]\n\n        # Check limit\n        if len(self.calls[identifier]) >= self.max_calls:\n            raise Exception("Rate limit exceeded")\n\n        self.calls[identifier].append(now)\n\nlimiter = RateLimiter(max_calls=10, period=60)\n\n@app.tool()\nasync def api_call(user_id: str, query: str):\n    limiter.check(user_id)\n    # Proceed with call\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-3-caching",children:"Pattern 3: Caching"}),"\n",(0,t.jsx)(n.p,{children:"Cache expensive operations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from functools import lru_cache\nimport hashlib\n\n@lru_cache(maxsize=100)\ndef cached_api_call(query: str) -> str:\n    """Cache results for repeated queries"""\n    # Expensive operation\n    result = expensive_api_call(query)\n    return result\n\n@app.tool()\nasync def smart_search(query: str) -> str:\n    """Search with caching"""\n    return cached_api_call(query)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-4-batch-operations",children:"Pattern 4: Batch Operations"}),"\n",(0,t.jsx)(n.p,{children:"Handle multiple items efficiently:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'@app.tool()\nasync def batch_process(\n    items: list[str],\n    operation: str\n) -> list:\n    """Process multiple items in parallel"""\n    async with asyncio.TaskGroup() as group:\n        tasks = [\n            group.create_task(process_item(item, operation))\n            for item in items\n        ]\n\n    return [t.result() for t in tasks]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"production-mcp-best-practices",children:"Production MCP Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-error-handling",children:"1. Error Handling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'@app.tool()\nasync def robust_tool(param: str) -> str:\n    try:\n        result = risky_operation(param)\n        return result\n    except ConnectionError:\n        return "Service temporarily unavailable"\n    except ValueError as e:\n        return f"Invalid input: {e}"\n    except Exception as e:\n        # Log error\n        logger.error(f"Unexpected error: {e}")\n        return "An error occurred. Please try again."\n'})}),"\n",(0,t.jsx)(n.h3,{id:"2-logging",children:"2. Logging"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import logging\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n@app.tool()\nasync def logged_tool(param: str) -> str:\n    logger.info(f"Tool called with: {param}")\n\n    try:\n        result = operation(param)\n        logger.info(f"Success: {result}")\n        return result\n    except Exception as e:\n        logger.error(f"Failed: {e}")\n        raise\n'})}),"\n",(0,t.jsx)(n.h3,{id:"3-input-validation",children:"3. Input Validation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from pydantic import BaseModel, validator\n\nclass SearchParams(BaseModel):\n    query: str\n    limit: int = 10\n\n    @validator('query')\n    def query_not_empty(cls, v):\n        if not v.strip():\n            raise ValueError('Query cannot be empty')\n        return v\n\n    @validator('limit')\n    def limit_in_range(cls, v):\n        if not 1 <= v <= 100:\n            raise ValueError('Limit must be between 1 and 100')\n        return v\n\n@app.tool()\nasync def validated_search(\n    query: str,\n    limit: int = 10\n) -> list:\n    params = SearchParams(query=query, limit=limit)\n    return perform_search(params.query, params.limit)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-monitoring",children:"4. Monitoring"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import time\nfrom prometheus_client import Counter, Histogram\n\n# Metrics\ntool_calls = Counter('mcp_tool_calls', 'Tool invocations')\ntool_duration = Histogram('mcp_tool_duration', 'Tool execution time')\n\n@app.tool()\nasync def monitored_tool(param: str) -> str:\n    tool_calls.inc()\n\n    start = time.time()\n    try:\n        result = operation(param)\n        return result\n    finally:\n        duration = time.time() - start\n        tool_duration.observe(duration)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"mcp-server-deployment",children:"MCP Server Deployment"}),"\n",(0,t.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run locally\npython mcp_server.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"production",children:"Production"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Option 1: Docker"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dockerfile",children:'FROM python:3.11-slim\n\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install -r requirements.txt\n\nCOPY mcp_server.py .\n\nCMD ["python", "mcp_server.py"]\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Option 2: Systemd Service"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[Unit]\nDescription=MCP Server\nAfter=network.target\n\n[Service]\nType=simple\nUser=mcp\nWorkingDirectory=/opt/mcp\nExecStart=/usr/bin/python3 /opt/mcp/server.py\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Option 3: Cloud Function"}),"\nDeploy as serverless function on AWS Lambda, Google Cloud Functions, etc."]}),"\n",(0,t.jsx)(n.h2,{id:"testing-mcp-servers",children:"Testing MCP Servers"}),"\n",(0,t.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import pytest\nfrom mcp_server import app\n\n@pytest.mark.asyncio\nasync def test_weather_tool():\n    result = await app.call_tool("get_weather", {\n        "city": "London",\n        "units": "metric"\n    })\n    assert "London" in result\n    assert "\xb0C" in result\n'})}),"\n",(0,t.jsx)(n.h3,{id:"integration-tests",children:"Integration Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'@pytest.mark.asyncio\nasync def test_full_workflow():\n    # Test agent using MCP server\n    agent = Agent(mcp_servers=["weather"])\n\n    response = await agent.execute(\n        "What\'s the weather in Paris and Tokyo?"\n    )\n\n    assert "Paris" in response\n    assert "Tokyo" in response\n'})}),"\n",(0,t.jsx)(n.h2,{id:"mcp-registry--discovery",children:"MCP Registry & Discovery"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Find servers:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io",children:"modelcontextprotocol.io"})," - Official registry"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/topics/mcp-server",children:"GitHub MCP Topics"})," - Community servers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/anthropics/anthropic-mcp-servers",children:"Anthropic MCP Servers"})," - Official collection"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Publish your server:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open source on GitHub"}),"\n",(0,t.jsxs)(n.li,{children:["Add ",(0,t.jsx)(n.code,{children:"mcp-server"})," topic"]}),"\n",(0,t.jsx)(n.li,{children:"Submit to registry"}),"\n",(0,t.jsx)(n.li,{children:"Share in communities"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-mcp-use-cases",children:"Common MCP Use Cases"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Development:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"GitHub, GitLab integration"}),"\n",(0,t.jsx)(n.li,{children:"Database query tools"}),"\n",(0,t.jsx)(n.li,{children:"CI/CD pipeline access"}),"\n",(0,t.jsx)(n.li,{children:"Log analysis tools"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Business:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CRM integration (Salesforce, HubSpot)"}),"\n",(0,t.jsx)(n.li,{children:"Project management (Linear, Jira)"}),"\n",(0,t.jsx)(n.li,{children:"Communication (Slack, Teams)"}),"\n",(0,t.jsx)(n.li,{children:"Analytics (Google Analytics, Mixpanel)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Data:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"SQL databases"}),"\n",(0,t.jsx)(n.li,{children:"NoSQL stores"}),"\n",(0,t.jsx)(n.li,{children:"Data warehouses"}),"\n",(0,t.jsx)(n.li,{children:"File systems"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"External Services:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Weather APIs"}),"\n",(0,t.jsx)(n.li,{children:"Maps and geocoding"}),"\n",(0,t.jsx)(n.li,{children:"Payment processing"}),"\n",(0,t.jsx)(n.li,{children:"Email services"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Try existing servers:"})," Start with official Anthropic servers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Build simple server:"})," Create a tool for your use case"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Learn frameworks:"})," Explore ",(0,t.jsx)(n.a,{href:"/docs/ai-agents/multi-agent-systems",children:"agent frameworks"})," that support MCP"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Production deploy:"})," ",(0,t.jsx)(n.a,{href:"/docs/ai-agents/agent-safety",children:"Agent Safety"})," for secure deployment"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Resources:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io/docs",children:"MCP Specification"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/anthropics/python-mcp-sdk",children:"Python SDK Docs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/anthropics/typescript-mcp-sdk",children:"TypeScript SDK"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/topics/mcp-server",children:"Community Examples"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"MCP is what makes agents truly autonomous. Master it and your agents can do anything!"})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var s=r(6540);const t={},i=s.createContext(t);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);